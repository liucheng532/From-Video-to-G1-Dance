# 🏠 本地训练指令（不使用 WandB Registry）

## 快速开始

```bash
# 1. 激活环境
conda activate isaaclab

# 2. 进入项目目录
cd /home/lyz/Desktop/code/robo_dance/Robocup_Lab

# 3. 转换舞蹈数据到本地 NPZ 文件
python scripts/csv_to_npz.py \
  --input_file dance_motion/douyin1_g1.csv \
  --input_fps 30 \
  --output_fps 50 \
  --output_file ./motions/douyin1_dance.npz \
  --robot g1 \
  --headless

# 4. 开始本地训练（不使用 WandB）
python scripts/rsl_rl/train.py \
  --task=Tracking-Flat-G1-v0 \
  --num_envs 4096 \
  --headless
```

## 详细说明

### 步骤 1: 转换数据到本地文件

```bash
python scripts/csv_to_npz.py \
  --input_file dance_motion/douyin1_g1.csv \
  --input_fps 30 \
  --output_fps 50 \
  --output_file ./motions/douyin1_dance.npz \
  --robot g1 \
  --headless
```

**参数说明**：
- `--output_file`: 指定本地输出路径（不使用 WandB）
- 文件会保存在 `./motions/douyin1_dance.npz`

### 步骤 2: 本地训练

```bash
python scripts/rsl_rl/train.py \
  --task=Tracking-Flat-G1-v0 \
  --num_envs 4096 \
  --max_iterations 5000 \
  --headless
```

**参数说明**：
- 不需要 `--registry_name` 参数
- 不需要 `--logger wandb` 参数
- 可以使用 `--logger tensorboard` 查看训练曲线

### 步骤 3: 测试训练结果

```bash
python scripts/rsl_rl/play.py \
  --task=Tracking-Flat-G1-v0 \
  --num_envs=2 \
  --checkpoint=/path/to/checkpoint.pt
```

## 常用参数调整

### GPU 内存配置
```bash
# 小内存 GPU
--num_envs 2048

# 中等内存 GPU（推荐）
--num_envs 4096

# 大内存 GPU
--num_envs 8192
```

### 训练时长
```bash
# 快速测试
--max_iterations 1000

# 正常训练
--max_iterations 3000

# 长时间训练
--max_iterations 5000
```

### 使用 TensorBoard 监控
```bash
python scripts/rsl_rl/train.py \
  --task=Tracking-Flat-G1-v0 \
  --num_envs 4096 \
  --logger tensorboard \
  --headless
```

然后在另一个终端打开 TensorBoard：
```bash
tensorboard --logdir=logs
```







